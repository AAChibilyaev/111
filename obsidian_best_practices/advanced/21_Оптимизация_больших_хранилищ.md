# 21. Оптимизация больших хранилищ (10 000+ заметок)

## 1. Настройки для ускорения работы
```yaml
# .obsidian/app.json
{
  "fileWatcher": "low",
  "syncInterval": 300,
  "maxFileSize": 10
}
```
- Уменьшение частоты синхронизации
- Ограничение размера файлов
- Отключение ненужных watchers

## 2. Оптимизация плагинов
```markdown
```performance-checklist
- [ ] Отключить плагины без индексации (Checklist, Calendar)
- [ ] Установить `lazyLoad: true` для тяжелых плагинов
- [ ] Обновить Dataview до v0.6+ для оптимизированных запросов
```
```

## 3. Работа с индексами
```javascript
// Ручная очистка кэша
app.metadataCache.clearCache();
app.vault.updateConfig({
  indexInterval: 3600 // Обновлять индекс раз в час
});
```

## 4. Архитектура хранилища
```markdown
Рекомендуемая структура:
- Core/ (активные заметки, 500-1000 файлов)
- Archive/ (старые заметки, сжатые в .zip)
- Assets/ (медиа, разделенные по годам)
```

## 5. Мониторинг производительности
```bash
# Логирование времени открытия
obsidian --debug-perf | tee performance.log
```

*Источники: Официальный гайд по оптимизации v1.3, тесты сообщества*